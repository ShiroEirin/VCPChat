/* Flowlockmodules/flowlock.css */
/* 心流锁模块样式 - 实现发光效果 */

/* 心流锁激活时的发光动画 */
#currentChatAgentName.flowlock-active {
    position: relative;
    animation: flowlock-glow 2s ease-in-out infinite;
}

/* 发光动画关键帧 */
@keyframes flowlock-glow {
    0%, 100% {
        text-shadow: 
            0 0 5px var(--accent-color),
            0 0 10px var(--accent-color),
            0 0 15px var(--accent-color),
            0 0 20px var(--accent-color);
        filter: brightness(1.2);
    }
    50% {
        text-shadow: 
            0 0 10px var(--accent-color),
            0 0 20px var(--accent-color),
            0 0 30px var(--accent-color),
            0 0 40px var(--accent-color);
        filter: brightness(1.5);
    }
}

/* 为心流锁激活状态添加底色发光效果 */
#currentChatAgentName.flowlock-active::before {
    content: '';
    position: absolute;
    top: -5px;
    left: -10px;
    right: -10px;
    bottom: -5px;
    background: linear-gradient(
        135deg,
        rgba(var(--accent-color-rgb), 0.1),
        rgba(var(--accent-color-rgb), 0.2),
        rgba(var(--accent-color-rgb), 0.1)
    );
    border-radius: 8px;
    z-index: -1;
    animation: flowlock-bg-pulse 2s ease-in-out infinite;
}

/* 背景脉冲动画 */
@keyframes flowlock-bg-pulse {
    0%, 100% {
        opacity: 0.5;
        transform: scale(1);
    }
    50% {
        opacity: 1;
        transform: scale(1.05);
    }
}

/* 深色主题下的优化 */
.dark-theme #currentChatAgentName.flowlock-active {
    color: var(--highlight-text);
}

/* 浅色主题下的优化 */
.light-theme #currentChatAgentName.flowlock-active {
    color: var(--accent-color);
}

/* 心流锁状态指示器（可选） */
.flowlock-indicator {
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent-color);
    margin-left: 8px;
    animation: flowlock-indicator-blink 1s ease-in-out infinite;
    vertical-align: middle;
}

@keyframes flowlock-indicator-blink {
    0%, 100% {
        opacity: 1;
        box-shadow: 0 0 5px var(--accent-color);
    }
    50% {
        opacity: 0.3;
        box-shadow: 0 0 10px var(--accent-color);
    }
}

/* 确保定位上下文正确 */
#currentChatAgentName {
    position: relative;
    z-index: 1;
}