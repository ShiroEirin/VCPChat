{
  "name": "PromptSponsor",
  "displayName": "提示词赞助器",
  "pluginType": "synchronous",
  "version": "1.0.0",
  "description": "一个强大的系统提示词管理插件，允许AI完全控制和管理Agent的系统提示词。支持三种模式：原始富文本、模块化积木块、临时与预制。提供对积木块的增删改查、小仓管理、多仓库操作等完整功能。",
  "author": "VCPToolBox",
  "license": "MIT",
  "entryPoint": {
    "command": "node prompt-sponsor.js",
    "timeout": 30000
  },
  "communication": {
    "protocol": "stdio"
  },
  "configSchema": {
    "AGENT_DIR": {
      "type": "string",
      "description": "Agent配置文件目录的绝对路径",
      "default": ""
    },
    "DEBUG_MODE": {
      "type": "boolean",
      "description": "是否开启此插件的调试日志",
      "default": true
    }
  },
  "capabilities": {
    "invocationCommands": [
      {
        "command": "GetPromptMode",
        "description": "功能: 获取指定Agent当前的提示词模式。\n参数:\n- agentId (字符串, 必需): Agent的ID（例如: _Agent_1761774023391_1761774023392）。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」GetPromptMode「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "SetPromptMode",
        "description": "功能: 切换Agent的提示词模式。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- mode (字符串, 必需): 目标模式，可选值: 'original'（原始富文本）, 'modular'（模块化积木块）, 'preset'（临时与预制）。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」SetPromptMode「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nmode:「始」modular「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "GetActivePrompt",
        "description": "功能: 获取Agent当前激活模式下的完整系统提示词内容（格式化后的最终文本）。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」GetActivePrompt「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "SetOriginalPrompt",
        "description": "功能: 设置原始富文本模式的提示词内容。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- content (字符串, 必需): 提示词文本内容。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」SetOriginalPrompt「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\ncontent:「始」你是一个友好的AI助手...「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "GetModularBlocks",
        "description": "功能: 获取模块化模式下所有积木块的详细信息。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」GetModularBlocks「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "AddBlock",
        "description": "功能: 在模块化模式下添加一个新的积木块。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- type (字符串, 必需): 积木块类型，'text'（文本块）或 'newline'（换行块）。\n- content (字符串, 可选): 文本块的内容。\n- name (字符串, 可选): 积木块的名称。\n- position (整数, 可选): 插入位置索引，不提供则追加到末尾。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」AddBlock「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\ntype:「始」text「末」,\ncontent:「始」你擅长编程「末」,\nname:「始」编程能力「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "UpdateBlock",
        "description": "功能: 更新指定积木块的内容或属性。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 积木块的唯一ID。\n- content (字符串, 可选): 新的内容。\n- name (字符串, 可选): 新的名称。\n- disabled (布尔值, 可选): 是否禁用。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」UpdateBlock「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」,\ncontent:「始」更新后的内容「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "DeleteBlock",
        "description": "功能: 删除指定的积木块。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 要删除的积木块ID。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」DeleteBlock「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "MoveBlock",
        "description": "功能: 移动积木块到新的位置。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 要移动的积木块ID。\n- newPosition (整数, 必需): 新的位置索引（从0开始）。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」MoveBlock「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」,\nnewPosition:「始」2「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "AddVariant",
        "description": "功能: 为积木块添加一个新的内容条目（variant）。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 积木块ID。\n- content (字符串, 必需): 新内容条目的文本。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」AddVariant「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」,\ncontent:「始」另一个版本的内容「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "UpdateVariant",
        "description": "功能: 更新积木块的某个内容条目。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 积木块ID。\n- variantIndex (整数, 必需): 内容条目的索引（从0开始）。\n- content (字符串, 必需): 新的内容。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」UpdateVariant「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」,\nvariantIndex:「始」1「末」,\ncontent:「始」修改后的内容「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "DeleteVariant",
        "description": "功能: 删除积木块的某个内容条目（至少保留一个）。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 积木块ID。\n- variantIndex (整数, 必需): 要删除的内容条目索引。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」DeleteVariant「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」,\nvariantIndex:「始」2「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "SelectVariant",
        "description": "功能: 设置积木块当前显示的内容条目。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 积木块ID。\n- variantIndex (整数, 必需): 要选中的内容条目索引。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」SelectVariant「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」,\nvariantIndex:「始」1「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "HideBlock",
        "description": "功能: 将积木块隐藏到小仓库中。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- blockId (字符串, 必需): 要隐藏的积木块ID。\n- warehouse (字符串, 可选): 目标仓库名称，默认为 'default'。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」HideBlock「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nblockId:「始」block_1234567890_abc123「末」,\nwarehouse:「始」常用模板「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "RestoreBlock",
        "description": "功能: 从小仓库中恢复积木块到编辑区。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- warehouse (字符串, 必需): 仓库名称。\n- blockIndex (整数, 必需): 仓库中的积木块索引。\n- position (整数, 可选): 恢复到编辑区的位置，不提供则追加到末尾。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」RestoreBlock「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nwarehouse:「始」default「末」,\nblockIndex:「始」0「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "GetWarehouses",
        "description": "功能: 获取所有仓库及其内容。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」GetWarehouses「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "CreateWarehouse",
        "description": "功能: 创建一个新的仓库。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- warehouseName (字符串, 必需): 新仓库的名称（不能为'default'）。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」CreateWarehouse「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nwarehouseName:「始」实验性内容「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "RenameWarehouse",
        "description": "功能: 重命名仓库（不能重命名'default'仓库）。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- oldName (字符串, 必需): 原仓库名称。\n- newName (字符串, 必需): 新仓库名称。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」RenameWarehouse「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\noldName:「始」实验性内容「末」,\nnewName:「始」已验证模板「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "DeleteWarehouse",
        "description": "功能: 删除仓库及其所有内容（不能删除'default'仓库）。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- warehouseName (字符串, 必需): 要删除的仓库名称。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」DeleteWarehouse「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\nwarehouseName:「始」临时仓库「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "ListPresets",
        "description": "功能: 列出预设模式的所有可用预设文件。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」ListPresets「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "SetPreset",
        "description": "功能: 选择并应用一个预设。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- presetPath (字符串, 必需): 预设文件的完整路径。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」SetPreset「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\npresetPath:「始」/path/to/preset.md「末」\n<<<[END_TOOL_REQUEST]>>>"
      },
      {
        "command": "SetPresetContent",
        "description": "功能: 直接设置预设模式的提示词内容（不使用预设文件）。\n参数:\n- agentId (字符串, 必需): Agent的ID。\n- content (字符串, 必需): 提示词内容。\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」PromptSponsor「末」,\ncommand:「始」SetPresetContent「末」,\nagentId:「始」_Agent_1761774023391_1761774023392「末」,\ncontent:「始」自定义提示词内容...「末」\n<<<[END_TOOL_REQUEST]>>>"
      }
    ]
  }
}