{
    "manifestVersion": "1.0.0",
    "name": "ChatTencentcos",
    "version": "1.0.0",
    "displayName": "腾讯云COS聊天插件",
    "description": "一个简化的腾讯云对象存储（COS）插件，专为聊天场景设计，支持文件上传和下载功能。",
    "author": "VCP Developer",
    "pluginType": "synchronous",
    "entryPoint": {
        "type": "python",
        "command": "python chat_tencentcos.py"
    },
    "communication": {
        "protocol": "stdio",
        "timeout": 30000
    },
    "configSchema": {
        "TENCENTCLOUD_SECRET_ID": {
            "type": "string",
            "description": "腾讯云密钥ID，建议使用环境变量配置"
        },
        "TENCENTCLOUD_SECRET_KEY": {
            "type": "string",
            "description": "腾讯云密钥Key，建议使用环境变量配置"
        },
        "COS_BUCKET_NAME": {
            "type": "string",
            "description": "腾讯云COS存储桶名称",
            "default": "test-111113652"
        },
        "COS_REGION": {
            "type": "string",
            "description": "腾讯云COS存储桶所在地域",
            "default": "ap-hongkong"
        },
        "AGENT_PARENT_DIR": {
            "type": "string",
            "description": "AgentAI操作文件夹的父目录名称",
            "default": "VCPAgentAI"
        },
        "AGENT_FOLDERS_CONFIG": {
            "type": "string",
            "description": "AgentAI操作文件夹配置，格式：文件夹名:上传权限:列出权限:下载权限:删除权限:复制和移动权限",
            "default": "agent-data:true:true:true:true:false,agent-temp:true:true:true:true:true,agent-readonly:false:true:false:false:false"
        },
        "PLUGIN_PORT": {
            "type": "number",
            "description": "插件监听端口",
            "default": 9786
        },
        "COMPRESS_THRESHOLD_MB": {
            "type": "number",
            "description": "文件大小超过此值（MB）时自动压缩为zip上传",
            "default": 100
        }
    },
    "capabilities": {
        "invocationCommands": [
            {
                "command": "upload_file",
                "description": "功能: 上传文件到腾讯云COS。支持自动压缩大文件和文件夹。\n参数:\n- local_path (字符串, 必需): 本地文件路径\n- cos_folder (字符串, 必需): 目标COS文件夹\n- remote_filename (字符串, 可选): 远程文件名\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」ChatTencentcos「末」,\ncommand:「始」upload_file「末」,\nlocal_path:「始」/path/to/local/file.txt「末」,\ncos_folder:「始」agent-data「末」,\nremote_filename:「始」backup_file.txt「末」\n<<<[END_TOOL_REQUEST]>>>"
            },
            {
                "command": "download_file",
                "description": "功能: 从腾讯云COS下载文件。\n参数:\n- cos_key (字符串, 必需): COS文件键\n- local_path (字符串, 可选): 本地保存路径\n调用格式:\n<<<[TOOL_REQUEST]>>>\ntool_name:「始」ChatTencentcos「末」,\ncommand:「始」download_file「末」,\ncos_key:「始」VCPAgentAI/agent-data/backup_file.txt「末」,\nlocal_path:「始」/path/to/save/file.txt「末」\n<<<[END_TOOL_REQUEST]>>>"
            }
        ]
    }
}